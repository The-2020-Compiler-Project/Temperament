在小组中我负责词法分析器的模块。词法分析是构造编译器的起始阶段，也是相对比较简单的一个环节。词法分析器作为一个函数提供给语法分析器，函数在每次调用时返回一个token。在遇到文件结尾时，前端会返回一个标识符表示文件结尾，语法分析到此处停止。

词法分析器作为一个封装类提供给语法分析器，词法分析器的输入为string流，输出为token串流。其功能有：处理c语言源程序，过滤掉无用符号，判断源程序中单词的合法性，并分解出正确的单词，以二元组形式存放在文件中。

此程序语言的单词符号包括关键字、界符、常数、标识符和字符。

因为基础相对薄弱，暂时不能完全独立设计及编程，所以参考了老师发的简单样例的代码。在刚开始编程时，我没能很好的确定二元式的数据结构。后来在组长的帮助下，改进了它。且在编程时，出现了一些简单的语法错误，后来一点点改正。下阶段工作任务时继续改进代码，努力达到自己所能做到的最好。

### **数据结构：**

```c++
static char KT[7][20]={"program","var","integer","real","char","begin","end"};

//界符
static char PT[11][10]={",",":",";",":=","*","/","+","-",".","(",")"};

char IT[100][100];
char CT[100][100];
char ChT[100][100];

enum style{I,C,K,P,Ch};/*枚举种类*/
//I  标识符
//C  常数
//K  关键字
//P  界符
//Ch  字符

struct twoele {/*二元式数据结构*/
style kind;
char value1[25];
int value2;
};

vector<twoele> token;
```

 

关键字和界符表如下：

| 编号 | 关键字  | 编号 | 界符 |
| ---- | ------- | ---- | ---- |
| 1    | program | 1    | ,    |
| 2    | var     | 2    | :    |
| 3    | integer | 3    | ;    |
| 4    | real    | 4    | :=   |
| 5    | char    | 5    | *    |
| 6    | begin   | 6    | /    |
| 7    | end     | 7    | +    |
|      |         | 8    | -    |
|      |         | 9    | .    |
|      |         | 10   | (    |
|      |         | 11   | )    |